# ë‚´ì¼ë°°ì›€ìº í”„ 240520 TIL
Java 23ì¼ì°¨
Layer Architecture, ì—­í•  ë¶„ë¦¬í•˜ê¸°, IoCì™€ DI
----------------------------------------------------------------------------------------


## 01. 3 Layer Architecture

- ë©”ëª¨ì¥ í”„ë¡œì íŠ¸ì˜ ë¬¸ì œì 
    - í˜„ì¬ ìš°ë¦¬ê°€ ì‘ì„±í•œ ë©”ëª¨ì¥ í”„ë¡œì íŠ¸ëŠ” Controller í´ë˜ìŠ¤ í•˜ë‚˜ë¡œ ëª¨ë“  APIë¥¼ ì²˜ë¦¬í•˜ê³  ìˆìŠµë‹ˆë‹¤.
    - í˜„ì¬ëŠ” API ìˆ˜ê°€ ì ê³  ê¸°ëŠ¥ì´ ë‹¨ìˆœí•˜ì—¬ ì½”ë“œê°€ ë³µì¡í•´ ë³´ì´ì§€ ì•Šì„ ìˆ˜ ìˆì§€ë§Œ ì•ìœ¼ë¡œ ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ê³  ë³µì¡í•´ì§„ë‹¤ë©´ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        - í•œ ê°œì˜ í´ë˜ìŠ¤ì— ë„ˆë¬´ ë§ì€ ì–‘ì˜ ì½”ë“œê°€ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— ì½”ë“œë¥¼ ì´í•´í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤.
        - í˜„ì—…ì—ì„œëŠ” ì½”ë“œì˜ ì¶”ê°€ í˜¹ì€ ë³€ê²½ ìš”ì²­ì´ ê³„ì† ìƒê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        - ë¬¸ì œê°€ ë°œìƒí–ˆëŠ”ë° í•´ë‹¹ Controller í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í•œ ê°œë°œìê°€ í‡´ì‚¬í•œë‹¤ë©´?

- Springì˜ 3 Layer Architecture

    ğŸ‘‰ ì´ëŸ¬í•œ ë¬¸ì œì ë“¤ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ì„œë²„ ê°œë°œìë“¤ì€ ì„œë²„ì—ì„œì˜ ì²˜ë¦¬ê³¼ì •ì´ ëŒ€ë¶€ë¶„ ë¹„ìŠ·í•˜ë‹¤ëŠ” ê±¸ ê¹¨ë‹«ê³ , ì²˜ë¦¬ ê³¼ì •ì„ í¬ê²Œ  **Controller, Service, Repository** 3ê°œë¡œ ë¶„ë¦¬í–ˆìŠµë‹ˆë‹¤.

    ê° ì—­í•  ë³„ë¡œ í•˜ëŠ” ì¼ì„ ì •ë¦¬í•´ ë³´ê² ìŠµë‹ˆë‹¤.

    1. **Controller**
        - í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ë°›ìŠµë‹ˆë‹¤.
        - ìš”ì²­ì— ëŒ€í•œ ë¡œì§ ì²˜ë¦¬ëŠ” Serviceì—ê²Œ ì „ë‹´í•©ë‹ˆë‹¤.
            - Request ë°ì´í„°ê°€ ìˆë‹¤ë©´ Serviceì— ê°™ì´ ì „ë‹¬í•©ë‹ˆë‹¤.
        - Serviceì—ì„œ ì²˜ë¦¬ ì™„ë£Œëœ ê²°ê³¼ë¥¼ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì‘ë‹µí•©ë‹ˆë‹¤.

    2. **Service**
        - ì‚¬ìš©ìì˜ ìš”êµ¬ì‚¬í•­ì„ ì²˜ë¦¬ ('ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§') í•˜ëŠ” **ì‹¤ì„¸ ì¤‘ì— ì‹¤ì„¸**ì…ë‹ˆë‹¤.
            - ë”°ë¼ì„œ í˜„ì—…ì—ì„œëŠ” ì„œë¹„ìŠ¤ ì½”ë“œê°€ ê³„ì† ë¹„ëŒ€í•´ì§€ê³  ìˆìŠµë‹ˆë‹¤.
        - DB ì €ì¥ ë° ì¡°íšŒê°€ í•„ìš”í•  ë•ŒëŠ” Repositoryì—ê²Œ ìš”ì²­í•©ë‹ˆë‹¤.

    3. **Repository**
        - DB ê´€ë¦¬ (ì—°ê²°, í•´ì œ, ìì› ê´€ë¦¬) í•©ë‹ˆë‹¤.
        - DB CRUD ì‘ì—…ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.



## . ì—­í•  ë¶„ë¦¬í•˜ê¸°
- Controller - Service ë¶„ë¦¬í•˜ê¸°

    1. ControllerëŠ” API ìš”ì²­ì„ ë°›ê³  Serviceì— ë°›ì•„ì˜¨ ë°ì´í„°ì™€ í•¨ê»˜ ìš”ì²­ì„ ë„˜ê¹ë‹ˆë‹¤.
        - [ì½”ë“œ ìŠ¤ë‹ˆí«] Controller - Service ë¶„ë¦¬ : Controller

            ```java
            package com.sparta.memo.controller;

            import com.sparta.memo.dto.MemoRequestDto;
            import com.sparta.memo.dto.MemoResponseDto;
            import com.sparta.memo.service.MemoService;
            import org.springframework.jdbc.core.JdbcTemplate;
            import org.springframework.web.bind.annotation.*;

            import java.util.List;

            @RestController
            @RequestMapping("/api")
            public class MemoController {

                private final JdbcTemplate jdbcTemplate;

                public MemoController(JdbcTemplate jdbcTemplate) {
                    this.jdbcTemplate = jdbcTemplate;
                }

                @PostMapping("/memos")
                public MemoResponseDto createMemo(@RequestBody MemoRequestDto requestDto) {
                    MemoService memoService = new MemoService(jdbcTemplate);
                    return memoService.createMemo(requestDto);
                }

                @GetMapping("/memos")
                public List<MemoResponseDto> getMemos() {
                    MemoService memoService = new MemoService(jdbcTemplate);
                    return memoService.getMemos();
                }

                @PutMapping("/memos/{id}")
                public Long updateMemo(@PathVariable Long id, @RequestBody MemoRequestDto requestDto) {
                    MemoService memoService = new MemoService(jdbcTemplate);
                    return memoService.updateMemo(id, requestDto);
                }

                @DeleteMapping("/memos/{id}")
                public Long deleteMemo(@PathVariable Long id) {
                    MemoService memoService = new MemoService(jdbcTemplate);
                    return memoService.deleteMemo(id);
                }
            }
            ```

        - ìš”ì²­ì„ ì „ë‹¬í•˜ê¸° ìœ„í•´ MemoServiceë¥¼ ì¸ìŠ¤í„´ìŠ¤í™”í•œ í›„ ì‚¬ìš©í•©ë‹ˆë‹¤.
        - MemoServiceì—ì„œ JdbcTemplateì„ ì‚¬ìš©í•´ì•¼í•˜ê¸° ë•Œë¬¸ì— ìƒì„±ì íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ í•´ì¤ë‹ˆë‹¤.

    2. ìš”ì²­ì„ ì „ë‹¬ë°›ì€ ServiceëŠ” í•´ë‹¹ ìš”ì²­ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
        - [ì½”ë“œ ìŠ¤ë‹ˆí«] Controller - Service ë¶„ë¦¬ : Service

            ```java
            package com.sparta.memo.service;

            import com.sparta.memo.dto.MemoRequestDto;
            import com.sparta.memo.dto.MemoResponseDto;
            import com.sparta.memo.entity.Memo;
            import org.springframework.jdbc.core.JdbcTemplate;
            import org.springframework.jdbc.core.RowMapper;
            import org.springframework.jdbc.support.GeneratedKeyHolder;
            import org.springframework.jdbc.support.KeyHolder;

            import java.sql.PreparedStatement;
            import java.sql.ResultSet;
            import java.sql.SQLException;
            import java.sql.Statement;
            import java.util.List;

            public class MemoService {

                private final JdbcTemplate jdbcTemplate;

                public MemoService(JdbcTemplate jdbcTemplate) {
                    this.jdbcTemplate = jdbcTemplate;
                }

                public MemoResponseDto createMemo(MemoRequestDto requestDto) {
                    // RequestDto -> Entity
                    Memo memo = new Memo(requestDto);

                    // DB ì €ì¥
                    KeyHolder keyHolder = new GeneratedKeyHolder(); // ê¸°ë³¸ í‚¤ë¥¼ ë°˜í™˜ë°›ê¸° ìœ„í•œ ê°ì²´

                    String sql = "INSERT INTO memo (username, contents) VALUES (?, ?)";
                    jdbcTemplate.update( con -> {
                                PreparedStatement preparedStatement = con.prepareStatement(sql,
                                        Statement.RETURN_GENERATED_KEYS);

                                preparedStatement.setString(1, memo.getUsername());
                                preparedStatement.setString(2, memo.getContents());
                                return preparedStatement;
                            },
                            keyHolder);

                    // DB Insert í›„ ë°›ì•„ì˜¨ ê¸°ë³¸í‚¤ í™•ì¸
                    Long id = keyHolder.getKey().longValue();
                    memo.setId(id);

                    // Entity -> ResponseDto
                    MemoResponseDto memoResponseDto = new MemoResponseDto(memo);

                    return memoResponseDto;
                }

                public List<MemoResponseDto> getMemos() {
                    // DB ì¡°íšŒ
                    String sql = "SELECT * FROM memo";

                    return jdbcTemplate.query(sql, new RowMapper<MemoResponseDto>() {
                        @Override
                        public MemoResponseDto mapRow(ResultSet rs, int rowNum) throws SQLException {
                            // SQL ì˜ ê²°ê³¼ë¡œ ë°›ì•„ì˜¨ Memo ë°ì´í„°ë“¤ì„ MemoResponseDto íƒ€ì…ìœ¼ë¡œ ë³€í™˜í•´ì¤„ ë©”ì„œë“œ
                            Long id = rs.getLong("id");
                            String username = rs.getString("username");
                            String contents = rs.getString("contents");
                            return new MemoResponseDto(id, username, contents);
                        }
                    });
                }

                public Long updateMemo(Long id, MemoRequestDto requestDto) {
                    // í•´ë‹¹ ë©”ëª¨ê°€ DBì— ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸
                    Memo memo = findById(id);
                    if(memo != null) {
                        // memo ë‚´ìš© ìˆ˜ì •
                        String sql = "UPDATE memo SET username = ?, contents = ? WHERE id = ?";
                        jdbcTemplate.update(sql, requestDto.getUsername(), requestDto.getContents(), id);

                        return id;
                    } else {
                        throw new IllegalArgumentException("ì„ íƒí•œ ë©”ëª¨ëŠ” ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
                    }
                }

                public Long deleteMemo(Long id) {
                    // í•´ë‹¹ ë©”ëª¨ê°€ DBì— ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸
                    Memo memo = findById(id);
                    if(memo != null) {
            						// memo ì‚­ì œ
                        String sql = "DELETE FROM memo WHERE id = ?";
                        jdbcTemplate.update(sql, id);

                        return id;
                    } else {
                        throw new IllegalArgumentException("ì„ íƒí•œ ë©”ëª¨ëŠ” ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
                    }
                }

                private Memo findById(Long id) {
                    // DB ì¡°íšŒ
                    String sql = "SELECT * FROM memo WHERE id = ?";

                    return jdbcTemplate.query(sql, resultSet -> {
                        if(resultSet.next()) {
                            Memo memo = new Memo();
                            memo.setUsername(resultSet.getString("username"));
                            memo.setContents(resultSet.getString("contents"));
                            return memo;
                        } else {
                            return null;
                        }
                    }, id);
                }
            }
            ```


- Service - Repository ë¶„ë¦¬í•˜ê¸°

    !https://s3-us-west-2.amazonaws.com/secure.notion-static.com/326eac47-e0a1-4871-a29b-4e7d80704a84/Untitled.png

    1. DBì™€ ì—°ê²° ë° CRUD ì‘ì—…ì€ Repositoryì—ì„œ ì§„í–‰í•©ë‹ˆë‹¤.
        - [ì½”ë“œ ìŠ¤ë‹ˆí«] Service - Repository ë¶„ë¦¬ : Repository

            ```java
            package com.sparta.memo.repository;

            import com.sparta.memo.dto.MemoRequestDto;
            import com.sparta.memo.dto.MemoResponseDto;
            import com.sparta.memo.entity.Memo;
            import org.springframework.jdbc.core.JdbcTemplate;
            import org.springframework.jdbc.core.RowMapper;
            import org.springframework.jdbc.support.GeneratedKeyHolder;
            import org.springframework.jdbc.support.KeyHolder;

            import java.sql.PreparedStatement;
            import java.sql.ResultSet;
            import java.sql.SQLException;
            import java.sql.Statement;
            import java.util.List;

            public class MemoRepository {

                private final JdbcTemplate jdbcTemplate;

                public MemoRepository(JdbcTemplate jdbcTemplate) {
                    this.jdbcTemplate = jdbcTemplate;
                }

                public Memo save(Memo memo) {
                    // DB ì €ì¥
                    KeyHolder keyHolder = new GeneratedKeyHolder(); // ê¸°ë³¸ í‚¤ë¥¼ ë°˜í™˜ë°›ê¸° ìœ„í•œ ê°ì²´

                    String sql = "INSERT INTO memo (username, contents) VALUES (?, ?)";
                    jdbcTemplate.update(con -> {
                                PreparedStatement preparedStatement = con.prepareStatement(sql,
                                        Statement.RETURN_GENERATED_KEYS);

                                preparedStatement.setString(1, memo.getUsername());
                                preparedStatement.setString(2, memo.getContents());
                                return preparedStatement;
                            },
                            keyHolder);

                    // DB Insert í›„ ë°›ì•„ì˜¨ ê¸°ë³¸í‚¤ í™•ì¸
                    Long id = keyHolder.getKey().longValue();
                    memo.setId(id);

                    return memo;
                }

                public List<MemoResponseDto> findAll() {
                    // DB ì¡°íšŒ
                    String sql = "SELECT * FROM memo";

                    return jdbcTemplate.query(sql, new RowMapper<MemoResponseDto>() {
                        @Override
                        public MemoResponseDto mapRow(ResultSet rs, int rowNum) throws SQLException {
                            // SQL ì˜ ê²°ê³¼ë¡œ ë°›ì•„ì˜¨ Memo ë°ì´í„°ë“¤ì„ MemoResponseDto íƒ€ì…ìœ¼ë¡œ ë³€í™˜í•´ì¤„ ë©”ì„œë“œ
                            Long id = rs.getLong("id");
                            String username = rs.getString("username");
                            String contents = rs.getString("contents");
                            return new MemoResponseDto(id, username, contents);
                        }
                    });
                }

                public void update(Long id, MemoRequestDto requestDto) {
                    String sql = "UPDATE memo SET username = ?, contents = ? WHERE id = ?";
                    jdbcTemplate.update(sql, requestDto.getUsername(), requestDto.getContents(), id);
                }

                public void delete(Long id) {
                    String sql = "DELETE FROM memo WHERE id = ?";
                    jdbcTemplate.update(sql, id);
                }

                public Memo findById(Long id) {
                    // DB ì¡°íšŒ
                    String sql = "SELECT * FROM memo WHERE id = ?";

                    return jdbcTemplate.query(sql, resultSet -> {
                        if (resultSet.next()) {
                            Memo memo = new Memo();
                            memo.setUsername(resultSet.getString("username"));
                            memo.setContents(resultSet.getString("contents"));
                            return memo;
                        } else {
                            return null;
                        }
                    }, id);
                }
            }
            ```

2. DB ì‘ì—…ì„ Repositoryì— ìš”ì²­í•˜ëŠ” Service
    - [ì½”ë“œ ìŠ¤ë‹ˆí«] Service - Repository ë¶„ë¦¬ : Service

        ```java
        package com.sparta.memo.service;

        import com.sparta.memo.dto.MemoRequestDto;
        import com.sparta.memo.dto.MemoResponseDto;
        import com.sparta.memo.entity.Memo;
        import com.sparta.memo.repository.MemoRepository;
        import org.springframework.jdbc.core.JdbcTemplate;

        import java.util.List;

        public class MemoService {

            private final JdbcTemplate jdbcTemplate;

            public MemoService(JdbcTemplate jdbcTemplate) {
                this.jdbcTemplate = jdbcTemplate;
            }

            public MemoResponseDto createMemo(MemoRequestDto requestDto) {
                // RequestDto -> Entity
                Memo memo = new Memo(requestDto);

                // DB ì €ì¥
                MemoRepository memoRepository = new MemoRepository(jdbcTemplate);
                Memo saveMemo = memoRepository.save(memo);

                // Entity -> ResponseDto
                MemoResponseDto memoResponseDto = new MemoResponseDto(saveMemo);

                return memoResponseDto;
            }

            public List<MemoResponseDto> getMemos() {
                // DB ì¡°íšŒ
                MemoRepository memoRepository = new MemoRepository(jdbcTemplate);
                return memoRepository.findAll();
            }

            public Long updateMemo(Long id, MemoRequestDto requestDto) {
                MemoRepository memoRepository = new MemoRepository(jdbcTemplate);
                // í•´ë‹¹ ë©”ëª¨ê°€ DBì— ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸
                Memo memo = memoRepository.findById(id);
                if (memo != null) {
                    // memo ë‚´ìš© ìˆ˜ì •
                    memoRepository.update(id, requestDto);

                    return id;
                } else {
                    throw new IllegalArgumentException("ì„ íƒí•œ ë©”ëª¨ëŠ” ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
                }
            }

            public Long deleteMemo(Long id) {
                MemoRepository memoRepository = new MemoRepository(jdbcTemplate);
                // í•´ë‹¹ ë©”ëª¨ê°€ DBì— ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸
                Memo memo = memoRepository.findById(id);
                if (memo != null) {
                    // memo ì‚­ì œ
                    memoRepository.delete(id);

                    return id;
                } else {
                    throw new IllegalArgumentException("ì„ íƒí•œ ë©”ëª¨ëŠ” ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
                }
            }
        }
        ```

## 03. IoC(ì œì–´ì˜ ì—­ì „), DI(ì˜ì¡´ì„± ì£¼ì…) ì´í•´í•˜ê¸°

- Springì˜ IoCì™€ DI
    ğŸ’¡ IoC, DIâ€¦ ëˆ„êµ¬ëƒ ë„Œ?
    - ì—¬ëŸ¬ë¶„ë“¤ì´ ì›¹ ê°œë°œìê°€ ë˜ê¸° ìœ„í•´ Java ë¥¼ ì„ íƒí•˜ì—¬ ì—´ì‹¬íˆ ë°°ìš°ê³  ë‚œ í›„ ìì—°ìŠ¤ëŸ½ê²Œ Spring ì„ ì ‘í–ˆì„ ë•Œ ê°€ì¥ ë¨¼ì € ë“£ê²Œ ë˜ëŠ” ìš©ì–´ëŠ” IoC, DI ì…ë‹ˆë‹¤.
    - Spring ìœ¼ë¡œ ê°œë°œì„ ì…ë¬¸í•œ ë¶„ë“¤ì´ ì²˜ìŒì— ê°€ì¥ ë§ì´ ì˜¤í•´í•˜ëŠ” ê²ƒì´ ë°”ë¡œ IoC ì™€ DI ê°€ Spring ì—ì„œ ì²˜ìŒìœ¼ë¡œ ë§Œë“  ê¸°ëŠ¥ì´ë¼ê³  ìƒê°í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
    - IoC, DIëŠ” ê°ì²´ì§€í–¥ì˜ SOLID ì›ì¹™ ê·¸ë¦¬ê³  GoF ì˜ ë””ìì¸ íŒ¨í„´ê³¼ ê°™ì€ ì„¤ê³„ ì›ì¹™ ë° ë””ìì¸ íŒ¨í„´ì…ë‹ˆë‹¤.
    - ì´ ë‘˜ì„ ë” ìì„¸í•˜ê²Œ êµ¬ë¶„í•´ ë³´ìë©´ IoCëŠ” ì„¤ê³„ ì›ì¹™ì— í•´ë‹¹í•˜ê³  DIëŠ” ë””ìì¸ íŒ¨í„´ì— í•´ë‹¹í•©ë‹ˆë‹¤.
    - ì„¤ê³„ ì›ì¹™, ë””ìì¸ íŒ¨í„´ ì´ ìš©ì–´ë“¤ë„ ë‚¯ì„¤ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— í•œë²ˆ ìš”ë¦¬ì— ë¹„êµí•´ ë³´ê² ìŠµë‹ˆë‹¤.

    ### ê¹€ì¹˜ ë³¶ìŒë°¥ ë§›ìˆê²Œ ë§Œë“œëŠ” ë°©ë²• (ì„¤ê³„ ì›ì¹™)
    ğŸ§‘â€ğŸ³ ë§›ìˆëŠ” ê¹€ì¹˜ ë³¶ìŒë°¥ì„ ë§Œë“¤ê¸° ìœ„í•œ ì›ì¹™
    - ì‹ ì„ í•œ ì¬ë£Œë¥¼ ì‚¬ìš©í•œë‹¤.
    - ì‹  ê¹€ì¹˜ë¥¼ ì‚¬ìš©í•œë‹¤.
    - ë°¥ê³¼ ê¹€ì¹˜ì˜ ë¹„ìœ¨ì„ ì˜ ë§ì¶°ì•¼ í•œë‹¤.
    - ë³¶ì„ ë•Œ ì¬ë£Œì˜ ìˆœì„œê°€ ì¤‘ìš”í•˜ë‹¤.

    ### ê¹€ì¹˜ ë³¶ìŒë°¥ ë ˆì‹œí”¼ (ë””ìì¸ íŒ¨í„´)
    ğŸ³ ë§›ìˆëŠ” ê¹€ì¹˜ ë³¶ìŒë°¥ì„ ë§Œë“¤ê¸° ìœ„í•œ í™©ê¸ˆ ë ˆì‹œí”¼

    1. ì˜¤ì¼ì„ ë‘ë¥¸ íŒ¬ì— ì±„ì¬ íŒŒë¥¼ ë³¶ì•„ íŒŒê¸°ë¦„ì„ ë§Œë“ ë‹¤.
    2. ì¤€ë¹„í•œ í–„ì„ ë„£ê³  ë³¶ë‹¤ê°€, ê°„ì¥ í•œìŠ¤í‘¼ì„ ë„£ì–´ í’ë¯¸ë¥¼ ë‚¸ë‹¤.
    3. ì„¤íƒ•ì— ë²„ë¬´ë¦° ê¹€ì¹˜ë¥¼ ë„£ê³  í•¨ê»˜ ë³¶ëŠ”ë‹¤.
    4. ë¯¸ë¦¬ ì‹í˜€ ë‘” ë°¥ì„ ë„£ì–´ í•¨ê»˜ ë³¶ëŠ”ë‹¤.
    5. ì°¸ê¸°ë¦„ í•œìŠ¤í‘¼ì„ ë„£ì–´ ë§ˆë¬´ë¦¬í•œë‹¤.

    ### ì¢‹ì€ ì½”ë“œë¥¼ ìœ„í•œ Springì˜ IoCì™€ DI
    ğŸ§‘â€ğŸ’» ì¢‹ì€ ì½”ë“œë€ ë¬´ì—‡ì¼ê¹Œìš”?

    - ë…¼ë¦¬ê°€ ê°„ë‹¨í•´ì•¼ í•œë‹¤.
    - ì¤‘ë³µì„ ì œê±°í•˜ê³  í‘œí˜„ì„ ëª…í™•í•˜ê²Œ í•œë‹¤.
    - ì½”ë“œë¥¼ ì²˜ìŒ ë³´ëŠ” ì‚¬ëŒë„ ì‰½ê²Œ ì´í•´í•˜ê³  ìˆ˜ì •í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.
    - ì˜ì¡´ì„±ì„ ìµœì†Œí™”í•´ì•¼ í•œë‹¤.
    - ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€ í•˜ë”ë¼ë„ í¬ê²Œ êµ¬ì¡°ì˜ ë³€ê²½ì´ ì—†ì–´ì•¼ í•œë‹¤.
    - ì´ë ‡ë“¯ ì¢‹ì€ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ìœ„í•´ì„œëŠ” ì‹ ê²½ì¨ì•¼ í•  ë¶€ë¶„ì´ ì •ë§ ë§ìŠµë‹ˆë‹¤!
    - ë”°ë¼ì„œ Springì€ ê°œë°œìê°€ Javaë¥¼ ì‚¬ìš©í•˜ì—¬ ì‰½ê²Œ ì¢‹ì€ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” ì—­í• ì„ í•´ì¤ë‹ˆë‹¤.
    - ì‹¤ìƒí™œì— ë¹„êµí•´ ë³´ìë©´ ìš”ë¦¬ë„êµ¬ê¹Œì§€ ì „ë¶€ ë“¤ì–´ìˆëŠ” ë°€í‚¤íŠ¸ë¼ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - ì—¬ê¸°ì„œ IoCì™€ DIëŠ” ì¢‹ì€ ì½”ë“œ ì‘ì„±ì„ ìœ„í•œ Springì˜ í•µì‹¬ ê¸°ìˆ  ì¤‘ í•˜ë‚˜ë¼ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - ì•„ë˜ëŠ” [Spring Docs](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-introduction) ì—ì„œ ë°œì·Œí•´ì˜¨ ë‚´ìš©ì…ë‹ˆë‹¤.
    - Spring ì˜ í•µì‹¬ ê¸°ìˆ ì„ ì†Œê°œí•˜ëŠ” Docsì—ì„œ ê°€ì¥ ì²˜ìŒìœ¼ë¡œ IoC ì»¨í…Œì´ë„ˆì— ëŒ€í•´ì„œ ì„¤ëª…í•˜ê³  ìˆìŠµë‹ˆë‹¤.
    - ê·¸ë¦¬ê³  IoCì— ëŒ€í•´ â€˜IoCëŠ” DIë¡œë„ ì•Œë ¤ì ¸ ìˆë‹¤â€™ ë¼ê³  ì†Œê°œí•˜ê³  ìˆìŠµë‹ˆë‹¤.
    - ì˜ì—­í•´ë³´ìë©´ â€˜DI íŒ¨í„´ì„ ì‚¬ìš©í•˜ì—¬ IoC ì„¤ê³„ ì›ì¹™ì„ êµ¬í˜„í•˜ê³  ìˆë‹¤â€™ ë¼ê³  ì´í•´í•˜ì‹œë©´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.
    - Spring Docsì—ì„œ ì†Œê°œí•˜ê³  ìˆëŠ” IoC Containerì™€ Beanì— ëŒ€í•´ì„œëŠ” ì´í›„ ê°•ì˜ì—ì„œ í•™ìŠµí•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.


- ì˜ì¡´ì„±ì´ë€?
    ğŸ’¡ ë¨¼ì € DI ë¥¼ ì´í•´í•˜ë ¤ë©´ â€˜ì˜ì¡´ì„±â€™ì— ëŒ€í•œ ì´í•´ê°€ í•„ìš”í•©ë‹ˆë‹¤!

    - ì˜ˆë¥¼ë“¤ì–´ ìš°ë¦¬ê°€ ë‹¤ë¦¬ë¥¼ ë‹¤ì³ì„œ ëª©ë°œì„ ì‚¬ìš©í•˜ì—¬ ê±·ê²Œ ëœë‹¤ë©´ ìš°ë¦¬ëŠ” ê±·ê¸° ìœ„í•´ ëª©ë°œì— ì˜ì¡´í•˜ê³  ìˆëŠ” ê²ƒì…ë‹ˆë‹¤. ì¦‰, ìš°ë¦¬ëŠ” ëª©ë°œì— ì˜ì¡´ì„±ì„ ë‘ê²Œ ë˜ì—ˆë‹¤ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - ì½”ë“œë¥¼ í†µí•´ ì˜ì¡´ì„±ì— ëŒ€í•´ ì´í•´í•´ë³´ê² ìŠµë‹ˆë‹¤.

    ### ê°•í•˜ê²Œ ê²°í•©ë˜ì–´ìˆëŠ” Consumer ì™€ Chicken

    ```java
    public class Consumer {

        void eat() {
            Chicken chicken = new Chicken();
            chicken.eat();
        }

        public static void main(String[] args) {
            Consumer consumer = new Consumer();
            consumer.eat();
        }
    }

    class Chicken {
        public void eat() {
            System.out.println("ì¹˜í‚¨ì„ ë¨¹ëŠ”ë‹¤.");
        }
    }
    ```

    - ìœ„ ì½”ë“œì—ì„œ Consumer ì™€ Chicken ì˜ ê´€ê³„ê°€ ì–´ë– í•œê°€ìš”?
    - ì½”ë“œê°€ ì‹¤í–‰ë˜ëŠ”ë° ìˆì–´ì„œëŠ” ì•„ë¬´ëŸ° ë¬¸ì œê°€ ì—†ì§€ë§Œ ë§Œì•½ Consumer ê°€ ì¹˜í‚¨ì´ ì•„ë‹ˆë¼ í”¼ìë¥¼ ë¨¹ê³  ì‹¶ì–´ í•œë‹¤ë©´? ë§ì€ ìˆ˜ì˜ ì½”ë“œ ë³€ê²½ì´ ë¶ˆê°€í”¼í•©ë‹ˆë‹¤.
    - ê·¸ë ‡ë‹¤ë©´ ì–´ë–»ê²Œí•˜ë©´ ê²°í•©ì„ ì•½í•˜ê²Œ í•  ìˆ˜ ìˆì„ê¹Œìš”?
    - Java ì˜ Interface ë¥¼ í™œìš©í•˜ë©´ ì´ë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

    ```java
    public class Consumer {

        void eat(Food food) {
            food.eat();
        }

        public static void main(String[] args) {
            Consumer consumer = new Consumer();
            consumer.eat(new Chicken());
            consumer.eat(new Pizza());
        }
    }

    interface Food {
        void eat();
    }

    class Chicken implements Food{
        @Override
        public void eat() {
            System.out.println("ì¹˜í‚¨ì„ ë¨¹ëŠ”ë‹¤.");
        }
    }

    class Pizza implements Food{
        @Override
        public void eat() {
            System.out.println("í”¼ìë¥¼ ë¨¹ëŠ”ë‹¤.");
        }
    }
    ```

    - ì´ì²˜ëŸ¼ Interface ë‹¤í˜•ì„±ì˜ ì›ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•˜ë©´ ê³ ê°ì´ ì–´ë– í•œ ìŒì‹ì„ ìš”êµ¬í•˜ë”ë¼ë„ ì‰½ê²Œ ëŒ€ì²˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - ì´ëŸ¬í•œ ê´€ê³„ë¥¼ ì•½í•œ ê²°í•© ë° ì•½í•œ ì˜ì¡´ì„± ì´ë¼ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- ì£¼ì…ì´ë€?
    ğŸ’¡ ê·¸ë ‡ë‹¤ë©´ ì£¼ì…ì€ ë¬´ì—‡ì¼ê¹Œìš”?

    - ìš°ë¦¬ê°€ ì£¼ì‚¬ê¸°ë¥¼ í†µí•´ ë°±ì‹ ì„ ìš°ë¦¬ ëª¸ì†ì— ì£¼ì… í•˜ë“¯ì´
    - ì½”ë“œì—ì„œì˜ ì£¼ì…ë„ ë§ˆì°¬ê°€ì§€ë¡œ ì—¬ëŸ¬ ë°©ë²•ì„ í†µí•´ í•„ìš”ë¡œ í•˜ëŠ” ê°ì²´ë¥¼ í•´ë‹¹ ê°ì²´ì— ì „ë‹¬í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
    - ì½”ë“œë¥¼ í†µí•´ ì½”ë“œì—ì„œì˜ ì£¼ì…ì— ëŒ€í•´ ì´í•´í•´ë³´ê² ìŠµë‹ˆë‹¤.

    ### í•„ë“œì— ì§ì ‘ ì£¼ì…

    ```java
    public class Consumer {

        Food food;

        void eat() {
            this.food.eat();
        }

        public static void main(String[] args) {
            Consumer consumer = new Consumer();
            consumer.food = new Chicken();
            consumer.eat();

            consumer.food = new Pizza();
            consumer.eat();
        }
    }

    interface Food {
        void eat();
    }

    class Chicken implements Food{
        @Override
        public void eat() {
            System.out.println("ì¹˜í‚¨ì„ ë¨¹ëŠ”ë‹¤.");
        }
    }

    class Pizza implements Food{
        @Override
        public void eat() {
            System.out.println("í”¼ìë¥¼ ë¨¹ëŠ”ë‹¤.");
        }
    }
    ```

    - ì´ì²˜ëŸ¼ Foodë¥¼ Consumerì— í¬í•¨ ì‹œí‚¤ê³  Foodì— í•„ìš”í•œ ê°ì²´ë¥¼ ì£¼ì…ë°›ì•„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

    ### ë©”ì„œë“œë¥¼ í†µí•œ ì£¼ì…

    ```java
    public class Consumer {

        Food food;

        void eat() {
            this.food.eat();
        }

        public void setFood(Food food) {
            this.food = food;
        }

        public static void main(String[] args) {
            Consumer consumer = new Consumer();
            consumer.setFood(new Chicken());
            consumer.eat();

            consumer.setFood(new Pizza());
            consumer.eat();
        }
    }

    interface Food {
        void eat();
    }

    class Chicken implements Food{
        @Override
        public void eat() {
            System.out.println("ì¹˜í‚¨ì„ ë¨¹ëŠ”ë‹¤.");
        }
    }

    class Pizza implements Food{
        @Override
        public void eat() {
            System.out.println("í”¼ìë¥¼ ë¨¹ëŠ”ë‹¤.");
        }
    }
    ```

    - ì´ì²˜ëŸ¼ set ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í•„ìš”í•œ ê°ì²´ë¥¼ ì£¼ì…ë°›ì•„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

    ### ìƒì„±ìë¥¼ í†µí•œ ì£¼ì…

    ```java
    public class Consumer {

        Food food;

        public Consumer(Food food) {
            this.food = food;
        }

        void eat() {
            this.food.eat();
        }

        public static void main(String[] args) {
            Consumer consumer = new Consumer(new Chicken());
            consumer.eat();

            consumer = new Consumer(new Pizza());
            consumer.eat();
        }
    }

    interface Food {
        void eat();
    }

    class Chicken implements Food{
        @Override
        public void eat() {
            System.out.println("ì¹˜í‚¨ì„ ë¨¹ëŠ”ë‹¤.");
        }
    }

    class Pizza implements Food{
        @Override
        public void eat() {
            System.out.println("í”¼ìë¥¼ ë¨¹ëŠ”ë‹¤.");
        }
    }
    ```

    - ì´ì²˜ëŸ¼ ìƒì„±ìë¥¼ ì‚¬ìš©í•˜ì—¬ í•„ìš”í•œ ê°ì²´ë¥¼ ì£¼ì…ë°›ì•„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- ì œì–´ì˜ ì—­ì „ì´ë€?
    ğŸ’¡ ë§ˆì§€ë§‰ìœ¼ë¡œ ì œì–´ì˜ ì—­ì „ì€ ë¬´ì—‡ì¼ê¹Œìš”?

    - ì´ì „ì—ëŠ” Consumerê°€ ì§ì ‘ Foodë¥¼ ë§Œë“¤ì–´ ë¨¹ì—ˆê¸° ë•Œë¬¸ì— ìƒˆë¡œìš´ Foodë¥¼ ë§Œë“¤ë ¤ë©´ ì¶”ê°€ì ì¸ ìš”ë¦¬ì¤€ë¹„(ì½”ë“œë³€ê²½)ê°€ ë¶ˆê°€í”¼í–ˆìŠµë‹ˆë‹¤.
        - ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì´ë•ŒëŠ” ì œì–´ì˜ íë¦„ì´ Consumer â†’ Food ì˜€ìŠµë‹ˆë‹¤.
    - ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë§Œë“¤ì–´ì§„ Foodë¥¼ Consumerì—ê²Œ ì „ë‹¬í•´ì£¼ëŠ” ì‹ìœ¼ë¡œ ë³€ê²½í•¨ìœ¼ë¡œì¨ ConsumerëŠ” ì¶”ê°€ì ì¸ ìš”ë¦¬ì¤€ë¹„(ì½”ë“œë³€ê²½) ì—†ì´ ì–´ëŠ Foodê°€ ë˜ì—ˆë“ ì§€ ì „ë¶€ ë¨¹ì„ ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
        - ê²°ê³¼ì ìœ¼ë¡œ ì œì–´ì˜ íë¦„ì´ Food â†’ Consumer ë¡œ ì—­ì „ ë˜ì—ˆìŠµë‹ˆë‹¤.