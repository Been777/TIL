# ë‚´ì¼ë°°ì›€ìº í”„ 240515 TIL
Java 21ì¼ì°¨
ê°œì¸ ê³¼ì œ, ã…ã…£ë“œë°±
----------------------------------------------------------------------------------------

ê°œì¸ê³¼ì œ ê¹ƒí—ˆë¸Œ
https://github.com/Been777/Project-2

í”¼ë“œë°± ë…¸ì…˜
https://sghwang.notion.site/cf8d07d8c6674132a7224677dc4bd4c4

# í”¼ë“œë°±

<aside>
ğŸ’¡ DB ì—°ë™ì´ ì•ˆëœ ê²ƒì€ ì•„ì‰½ì§€ë§Œ, ê·¸ë˜ë„ Mapìœ¼ë¡œ ëŒ€ì²´í•´ì„œ ì˜ êµ¬í˜„í•˜ì…¨ìŠµë‹ˆë‹¤.
package ë¶„ë¦¬ëŠ” ëª©ì ì— ë§ê²Œ ì˜ ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

</aside>

## Entity

- idë¥¼ ì¦ê°€ì‹œí‚¤ê¸° ìœ„í•´ static í•„ë“œë¥¼ ì˜ ì´ìš©í•˜ì…¨ìŠµë‹ˆë‹¤.

## Controller

- ì»¨íŠ¸ë¡¤ëŸ¬ì˜ URI pathê°€ ëª¨ë‘ â€œ`/api/schedule`â€ë¡œ ì‹œì‘í•˜ë¯€ë¡œ controller ìœ„ì˜ `@RequestMapping(â€œ/api/scheduleâ€)`ìœ¼ë¡œ ìˆ˜ì •ë˜ì–´ë„ ë¬´ë°©í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.
    - ì´ê²ƒì€ `@RequestMapping` ì„¤ëª…ì´ ëª©ì ì´ë¯€ë¡œ ì°¸ê³ ë§Œ í•´ì£¼ì„¸ìš”!
- DBì— í•´ë‹¹í•˜ëŠ” Mapì„ ë³„ë„ì˜ í´ë˜ìŠ¤ì— ë‹´ì•„ì„œ ë”°ë¡œ ë¶„ë¦¬í•˜ë©´ ì¢€ ë” ê²°í•©ë„ê°€ ë‚®ì€ ì„¤ê³„ê°€ ë  ìˆ˜ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤!
- requestë¡œ ë°›ì€ passwordë¥¼ ë¹„êµí•  ë•ŒëŠ” null ì²´í¬ë„ ê°™ì´ í•˜ëŠ” ê²ƒì´ ì•ˆì „í•©ë‹ˆë‹¤
    - `ScheduleRequestDto` í´ë˜ìŠ¤ì—ì„œ passwordê°€ nullì´ ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
        - ê¸°ì¡´ ì½”ë“œ

            ```java
                @PutMapping("/schedule/{id}") // ì„ íƒí•œ ì¼ì • ìˆ˜ì •
                public Long updateSchedule(@PathVariable Long id, @RequestBody ScheduleRequestDto requestDto) {
                    if (scheduleList.containsKey(id)) {
                        Schedule schedule = scheduleList.get(id);
                        if (!requestDto.getPassword().equals(schedule.getPassword())) {
                            throw new IllegalArgumentException("ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
                        }
                        schedule.update(requestDto);
                        return schedule.getId();
                    } else {
                        throw new IllegalArgumentException("ì„ íƒí•œ ì¼ì •ì€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
                    }
                }
            ```

        - ë³€ê²½í•œ ì½”ë“œ

            ```java
                @PutMapping("/schedule/{id}") // ì„ íƒí•œ ì¼ì • ìˆ˜ì •
                public Long updateSchedule(@PathVariable Long id, @RequestBody ScheduleRequestDto requestDto) {
                    if (scheduleList.containsKey(id)) {
                        Schedule schedule = scheduleList.get(id);
                        if (!Objects.equals(requestDto.getPassword(), schedule.getPassword())) {
                            throw new IllegalArgumentException("ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
                        }
                        schedule.update(requestDto);
                        return schedule.getId();
                    } else {
                        throw new IllegalArgumentException("ì„ íƒí•œ ì¼ì •ì€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
                    }
                }
            ```